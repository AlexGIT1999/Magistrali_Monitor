# cities_reference.py
CITIES_REFERENCE = {
"Абакан": "Абакан",
"Айхал": "Айхал",
"Алдан": "Алдан",
"Алушта": "Алушта",
"Алыкель": "Алыкель",
"Анадырь": "Анадырь",
"Анапа": "Анапа",
"Апатиты": "Апатиты",
"Аргахтах": "Аргахтах",
"Аргун": "Аргун",
"Арзамас": "Арзамас",
"Артем": "Артем",
"Архангельск": "Архангельск",
"Асташово": "Асташово",
"Астрахань": "Астрахань",
"Ахтубинск": "Ахтубинск",
"Ахты": "Ахты",
"Ачинск": "Ачинск",
"Балаково": "Балаково",
"Балашиха": "Балашиха",
"Балтийск": "Балтийск",
"Бараниха": "Бараниха",
"Барнаул": "Барнаул",
"Белгород": "Белгород",
"Белёв": "Белёв",
"Белогорск": "Белогорск",
"Белозерск": "Белозерск",
"Бердск": "Бердск",
"Березники": "Березники",
"Беслан": "Беслан",
"Бечевинка": "Бечевинка",
"Бийск": "Бийск",
"Билибино": "Билибино",
"Биробиджан": "Биробиджан",
"Бичура": "Бичура",
"Благовещенск": "Благовещенск",
"Богданович": "Богданович",
"Болхов": "Болхов",
"БольшойНимныр": "БольшойНимныр",
"Бор": "Бор",
"Борзя": "Борзя",
"Боровичи": "Боровичи",
"Боровск": "Боровск",
"Братск": "Братск",
"Брянск": "Брянск",
"Бузулук": "Бузулук",
"Буйнакск": "Буйнакск",
"Валдай": "Валдай",
"ВеликийУстюг": "ВеликийУстюг",
"ВерхняяБалкария": "ВерхняяБалкария",
"ВерхняяПышма": "ВерхняяПышма",
"Весьегонск": "Весьегонск",
"Вилюйск": "Вилюйск",
"Владивосток": "Владивосток",
"Владикавказ": "Владикавказ",
"Владимир": "Владимир",
"Власиха": "Власиха",
"Волгоград": "Волгоград",
"Волгореченск": "Волгореченск",
"Волжск": "Волжск",
"Вологда": "Вологда",
"Волоколамск": "Волоколамск",
"Волочанка": "Волочанка",
"Ворогово": "Ворогово",
"Воронеж": "Воронеж",
"Воскресенск": "Воскресенск",
"Выборг": "Выборг",
"Вытегра": "Вытегра",
"Вязьма": "Вязьма",
"Галич": "Галич",
"Гвардейск": "Гвардейск",
"Горно-Алтайск": "Горно-Алтайск",
"Городец": "Городец",
"ГорячийКлюч": "ГорячийКлюч",
"Грозный": "Грозный",
"Гудермес": "Гудермес",
"Гудым": "Гудым",
"Гурзуф": "Гурзуф",
"Дебин": "Дебин",
"Дербент": "Дербент",
"деревня Коледино": "деревня Коледино",
"Дзержинск": "Дзержинск",
"Дивеево": "Дивеево",
"Дивногорск": "Дивногорск",
"Дмитров": "Дмитров",
"Доброград": "Доброград",
"Дубна": "Дубна",
"Дудинка": "Дудинка",
"Евпатория": "Евпатория",
"Егорьевск": "Егорьевск",
"Екатеринбург": "Екатеринбург",
"Елабуга": "Елабуга",
"Елец": "Елец",
"Елизово": "Елизово",
"Енисейск": "Енисейск",
"ЕрофейПавлович": "ЕрофейПавлович",
"Ждановский": "Ждановский",
"Железногорск": "Железногорск",
"Железнодорожный": "Железнодорожный",
"Жиганск": "Жиганск",
"Жилинда": "Жилинда",
"Жуковский": "Жуковский",
"Завидово": "Завидово",
"Заозерный": "Заозерный",
"Зарайск": "Зарайск",
"Заречный": "Заречный",
"Звездный": "Звездный",
"Зеленогорск": "Зеленогорск",
"Зеленодольск": "Зеленодольск",
"Златоуст": "Златоуст",
"Знаменск": "Знаменск",
"Зырянка": "Зырянка",
"ИИваново": "ИИваново",
"Ижевск": "Ижевск",
"Иркутск": "Иркутск",
"Истра": "Истра",
"Йошкар-Ола": "Йошкар-Ола",
"Кадуй": "Кадуй",
"Кадыкчан": "Кадыкчан",
"Казань": "Казань",
"Кайеркан": "Кайеркан",
"Калининград": "Калининград",
"Калуга": "Калуга",
"Калязин": "Калязин",
"Камышин": "Камышин",
"Канск": "Канск",
"Карабаш": "Карабаш",
"Касимов": "Касимов",
"Касли": "Касли",
"Каспийск": "Каспийск",
"Катырык": "Катырык",
"Кемерово": "Кемерово",
"Кимжа": "Кимжа",
"Кимры": "Кимры",
"Кинешма": "Кинешма",
"Киржач": "Киржач",
"Кириллов": "Кириллов",
"Киров": "Киров",
"Кировск": "Кировск",
"Клин": "Клин",
"Клинцы": "Клинцы",
"Козельск": "Козельск",
"Козьмодемьянск": "Козьмодемьянск",
"Коломна": "Коломна",
"Комсомольск-на-Амуре": "Комсомольск-на-Амуре",
"Конаково": "Конаково",
"Корсаков": "Корсаков",
"Коса": "Коса",
"Кострома": "Кострома",
"Красногорск": "Красногорск",
"Краснодар": "Краснодар",
"Краснознаменск": "Краснознаменск",
"Красноярск": "Красноярск",
"Кронштадт": "Кронштадт",
"Кунгур": "Кунгур",
"Курган": "Курган",
"Курск": "Курск",
"Кызыл": "Кызыл",
"Кюбюме": "Кюбюме",
"Кюсюр": "Кюсюр",
"Лазаревское": "Лазаревское",
"Лыткарино": "Лыткарино",
"Лесосибирск": "Лесосибирск",
"Ливны": "Ливны",
"Лиинахамари": "Лиинахамари",
"Липецк": "Липецк",
"ЛодейноеПоле": "ЛодейноеПоле",
"Луховицы": "Луховицы",
"Лысьва": "Лысьва",
"Магадан": "Магадан",
"Магнитогорск": "Магнитогорск",
"МалаяВишера": "МалаяВишера",
"Мариинск": "Мариинск",
"Маркс": "Маркс",
"Матвеев-Курган": "Матвеев-Курган",
"Махачкала": "Махачкала",
"Междуреченск": "Междуреченск",
"Мезень": "Мезень",
"Мелитополь": "Мелитополь",
"Миасс": "Миасс",
"МинеральныеВоды": "МинеральныеВоды",
"Минусинск": "Минусинск",
"Мирный": "Мирный",
"Мончегорск": "Мончегорск",
"Москва13": "Москва13",
"Мурманск": "Мурманск",
"Мценск": "Мценск",
"Мышкин": "Мышкин",
"Мяунджа": "Мяунджа",
"НабережныеЧелны": "НабережныеЧелны",
"Назрань": "Назрань",
"Нальчик": "Нальчик",
"Нарьян-Мар": "Нарьян-Мар",
"Находка": "Находка",
"Невьянск": "Невьянск",
"Нерчинск": "Нерчинск",
"Нерюнгри": "Нерюнгри",
"Нефтекамск": "Нефтекамск",
"Нижнеудинск": "Нижнеудинск",
"Нижний Новгород": "Нижний Новгород",
"НижнийТагил": "НижнийТагил",
"Никола-Ленивец": "Никола-Ленивец",
"НовгородВеликий": "НовгородВеликий",
"Новоалтайск": "Новоалтайск",
"Новокузнецк": "Новокузнецк",
"Новорыбная": "Новорыбная",
"Новосибирск": "Новосибирск",
"НовыйУренгой": "НовыйУренгой",
"Норильск": "Норильск",
"Ноябрьск": "Ноябрьск",
"Озеры": "Озеры",
"Оймякон": "Оймякон",
"Окуловка": "Окуловка",
"Оленек": "Оленек",
"Ольхон": "Ольхон",
"Омск": "Омск",
"Орёл": "Орёл",
"Оренбург": "Оренбург",
"Осташков": "Осташков",
"ПавловскийПосад": "ПавловскийПосад",
"Палех": "Палех",
"Паника": "Паника",
"Певек": "Певек",
"Пенза": "Пенза",
"Пересвет": "Пересвет",
"Переславль-Залесский": "Переславль-Залесский",
"Пермь0": "Пермь0",
"Петрозаводск": "Петрозаводск",
"Петропавловск-Камчатский": "Петропавловск-Камчатский",
"Пирамида": "Пирамида",
"Плавск": "Плавск",
"Плес": "Плес",
"Подольск": "Подольск",
"Поленово": "Поленово",
"Помары": "Помары",
"Попигай(Сопочное)": "Попигай(Сопочное)",
"Поповка": "Поповка",
"посёлок Красные Баки": "посёлок Красные Баки",
"посёлок Случайный": "посёлок Случайный",
"Потапово": "Потапово",
"Приволжск": "Приволжск",
"Приисковое": "Приисковое",
"Приморск": "Приморск",
"Протвино": "Протвино",
"Псков": "Псков",
"Пугачев": "Пугачев",
"Пулково": "Пулково",
"Пустозерск": "Пустозерск",
"Путорана": "Путорана",
"Пятигорск": "Пятигорск",
"Радужный": "Радужный",
"Рославль": "Рославль",
"Ростов": "Ростов",
"Ростов-на-Дону": "Ростов-на-Дону",
"Рыбинск": "Рыбинск",
"Рязань": "Рязань",
"Самара": "Самара",
"Санкт-Петербург": "Санкт-Петербург",
"Саранск": "Саранск",
"Саратов": "Саратов",
"Сарман": "Сарман",
"Саров": "Саров",
"Саскалых": "Саскалых",
"Сатка": "Сатка",
"Светлый": "Светлый",
"Свободный": "Свободный",
"Североморск": "Североморск",
"Северск": "Северск",
"селигер": "селигер",
"СергиевПосад": "СергиевПосад",
"Серпухов": "Серпухов",
"село Софьино": "Село Софьино",
"село Нечаевка": "село Нечаевка",
"Синегорье": "Синегорье",
"Слюдянка": "Слюдянка",
"Смоленск": "Смоленск",
"Сокол": "Сокол",
"Солигалич": "Солигалич",
"Соликамск": "Соликамск",
"Солнечный": "Солнечный",
"Солнечный(Ужур)": "Солнечный(Ужур)",
"Соловки": "Соловки",
"Соловьевск": "Соловьевск",
"Сочи": "Сочи",
"Среднеколымск": "Среднеколымск",
"СредняяАхтуба": "СредняяАхтуба",
"Сростки": "Сростки",
"Ставрополь": "Ставрополь",
"СтараяЛадога": "СтараяЛадога",
"СтараяРусса": "СтараяРусса",
"Старица": "Старица",
"СтарыйОскол": "СтарыйОскол",
"Судак": "Судак",
"Судиславль": "Судиславль",
"Суздаль": "Суздаль",
"Суксун": "Суксун",
"Сулак": "Сулак",
"Сургут": "Сургут",
"Сусуман": "Сусуман",
"Сызрань": "Сызрань",
"Сыктывкар": "Сыктывкар",
"Таганрог": "Таганрог",
"Талдом": "Талдом",
"Талнах": "Талнах",
"Тамбов": "Тамбов",
"Тарбагатай": "Тарбагатай",
"Тарко-Сале": "Тарко-Сале",
"Таруса": "Таруса",
"Тверь": "Тверь",
"ТеплыйКлюч": "ТеплыйКлюч",
"Тетюши": "Тетюши",
"Тикси": "Тикси",
"Тольятти": "Тольятти",
"Томск": "Томск",
"Томтор": "Томтор",
"Торжок": "Торжок",
"Тотьма": "Тотьма",
"Туапсе": "Туапсе",
"Тула": "Тула",
"Тура": "Тура",
"Туруханск": "Туруханск",
"Тутаев": "Тутаев",
"Тюмень": "Тюмень",
"Углич": "Углич",
"Удачный": "Удачный",
"Улан-Удэ": "Улан-Удэ",
"Ульяновск": "Ульяновск",
"Уссурийск": "Уссурийск",
"Усть-Нера": "Усть-Нера",
"Устье-Кубенское": "Устье-Кубенское",
"Устюжна": "Устюжна",
"Уфа": "Уфа",
"Учма": "Учма",
"Ферапонтово": "Ферапонтово",
"Фрязино": "Фрязино",
"Хабаровск": "Хабаровск",
"Хасавюрт": "Хасавюрт",
"Хатанга": "Хатанга",
"Хета": "Хета",
"Холуй": "Холуй",
"Цаган-Толгой": "Цаган-Толгой",
"Чагода": "Чагода",
"Чебаркуль": "Чебаркуль",
"Чебоксары": "Чебоксары",
"Челябинск": "Челябинск",
"Череповец": "Череповец",
"Черноголовка": "Черноголовка",
"Чернышевский": "Чернышевский",
"Черский": "Черский",
"Чехов": "Чехов",
"Чита": "Чита",
"Шелепаново": "Шелепаново",
"Шексна": "Шексна",
"Шикотан": "Шикотан",
"Шушенское": "Шушенское",
"Ытык-Кюэль": "Ытык-Кюэль",
"Электрогорск": "Электрогорск",
"Электросталь": "Электросталь",
"Электроугли": "Электроугли",
"Элиста": "Элиста",
"Эльбрус": "Эльбрус",
"Энгельс": "Энгельс",
"Энергодар": "Энергодар",
"Эрзин": "Эрзин",
"Южа": "Южа",
"Южно-Сахалинск": "Южно-Сахалинск",
"Юрюнг-Хая": "Юрюнг-Хая",
"Якутск": "Якутск",
"Ярополец": "Ярополец",
"Ярославль": "Ярославль",
"Ярцево": "Ярцево",
"Яхрома": "Яхрома"
}

def find_city_in_address(address):
    """Поиск города в адресе по справочнику"""
    if not address or not isinstance(address, str):
        return None
    
    address_lower = address.lower()
    for city_key, city_name in CITIES_REFERENCE.items():
        if city_key in address_lower:
            return city_name
    return None